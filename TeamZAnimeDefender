-- Services
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")

-- Variables
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local traits = {"Trait1", "Trait2", "Trait3", "Trait4", "Trait5"} -- Liste des traits possibles
local playerResources = 10 -- Ressources que le joueur a pour reroll (à remplacer par le système réel)
local currentTrait = "Trait1" -- Trait actuel du joueur
local previousTrait = currentTrait -- Pour le rollback

-- Fonction pour effectuer le reroll
local function performReroll()
    if playerResources <= 0 then
        print("Pas assez de ressources pour effectuer un reroll.")
        return
    end
    
    -- Sauvegarde le trait actuel pour rollback
    previousTrait = currentTrait
    
    -- Reroll (choix aléatoire d'un nouveau trait)
    local newTrait = traits[math.random(1, #traits)]
    
    -- Met à jour le trait actuel
    currentTrait = newTrait
    
    print("Nouveau trait obtenu : " .. currentTrait)
    playerResources = playerResources - 1 -- Déduit une ressource pour le reroll
end

-- Fonction pour effectuer le rollback
local function rollback()
    if previousTrait then
        print("Rollback au trait précédent : " .. previousTrait)
        currentTrait = previousTrait
    else
        print("Aucun trait précédent à restaurer.")
    end
end

-- Interface utilisateur pour le reroll
local ScreenGui = Instance.new("ScreenGui")
local RerollButton = Instance.new("TextButton")
local RollbackButton = Instance.new("TextButton")

ScreenGui.Parent = player:WaitForChild("PlayerGui")

-- Paramètres du bouton de reroll
RerollButton.Size = UDim2.new(0, 200, 0, 50)
RerollButton.Position = UDim2.new(0.5, -100, 0.5, -25)
RerollButton.Text = "Effectuer Reroll"
RerollButton.BackgroundColor3 = Color3.fromRGB(85, 170, 255)
RerollButton.Parent = ScreenGui

-- Paramètres du bouton de rollback
RollbackButton.Size = UDim2.new(0, 200, 0, 50)
RollbackButton.Position = UDim2.new(0.5, -100, 0.5, 30)
RollbackButton.Text = "Rollback Trait"
RollbackButton.BackgroundColor3 = Color3.fromRGB(255, 85, 85)
RollbackButton.Parent = ScreenGui

-- Action lorsque le bouton de reroll est cliqué
RerollButton.MouseButton1Click:Connect(function()
    performReroll()
end)

-- Action lorsque le bouton de rollback est cliqué
RollbackButton.MouseButton1Click:Connect(function()
    rollback()
end)

-- Affiche le trait actuel
print("Trait actuel : " .. currentTrait)
